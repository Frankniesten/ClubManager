{% extends 'base_content_full_width.html.twig' %}

{% block body %}

    {{ form_start(form) }}

    <!-- Page header -->
    <div class="d-flex justify-content-between flex-row">
        <div class="p-2">
            {% if 'create' in app.request.uri  %}
                <h3>{% trans %}Review_add{% endtrans %}</h3>
            {% endif %}
            {% if 'edit' in app.request.uri  %}
                <h3>{% trans %}Review_edit{% endtrans %}</h3>
            {% endif %}
        </div>

        <div class="p-2">
            <div class="btn-group float-right">
                <button type="submit" class="btn btn-primary btn-sm"><i class="mdi mdi-content-save"></i> {% trans %}Save{% endtrans %}</button>
                {% if 'person' in app.request.uri %}
                    <a href="{{ path('person_id', {'id': id}) }}#review" class="btn btn-primary btn-sm"><i class="mdi mdi-close"></i> {% trans %}Close{% endtrans %}</a>
                {% endif %}

                {% if 'organization' in app.request.uri %}
                    <a href="{{ path('organization_id', {'id': id}) }}#review" class="btn btn-primary btn-sm"><i class="mdi mdi-close"></i> {% trans %}Close{% endtrans %}</a>
                {% endif %}

                {% if 'product' in app.request.uri %}
                    <a href="{{ path('app_product', {'id': id}) }}#review" class="btn btn-primary btn-sm"><i class="mdi mdi-close"></i> {% trans %}Close{% endtrans %}</a>
                {% endif %}

                {% if 'event' in app.request.uri %}
                    <a href="{{ path('app_event', {'id': id}) }}#review" class="btn btn-primary btn-sm"><i class="mdi mdi-close"></i> {% trans %}Close{% endtrans %}</a>
                {% endif %}

                {% if 'service' in app.request.uri %}
                    <a href="{{ path('service_id', {'id': id}) }}#review" class="btn btn-primary btn-sm"><i class="mdi mdi-close"></i> {% trans %}Close{% endtrans %}</a>
                {% endif %}

            </div>
        </div>
    </div>
    <!-- End Page header -->

    <!-- Content -->
    <div class="card">
        <div class="card-body">

            <div class="row">
                <div class="col">
                    {{ form_row(form.reviewAspect) }}
                    {{ form_row(form.reviewBody, {'id': 'elm1'}) }}
                </div>
            </div>

            {{ form_end(form) }}
        </div>
    </div>
    <!-- End Content -->

{% endblock %}

{% block javascripts %}

	{{ parent() }}
	
	<!--form wysiwig js-->
    <script src="{{ asset('assets/plugins/tinymce/tinymce.min.js') }}"></script>

    <script type="text/javascript">
            $(document).ready(function () {
                if($("#elm1").length > 0){
                    tinymce.init({
                        selector: "textarea#elm1",
                        theme: "modern",
                        height:300,
                        plugins: [
                            "advlist autolink link image lists charmap print preview hr anchor pagebreak spellchecker",
                            "searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking",
                            "save table contextmenu directionality emoticons template paste textcolor"
                        ],
                        toolbar: "insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | l      ink image | print preview media fullpage | forecolor backcolor emoticons",
                        style_formats: [
                            {title: 'Bold text', inline: 'b'},
                            {title: 'Red text', inline: 'span', styles: {color: '#ff0000'}},
                            {title: 'Red header', block: 'h1', styles: {color: '#ff0000'}},
                            {title: 'Example 1', inline: 'span', classes: 'example1'},
                            {title: 'Example 2', inline: 'span', classes: 'example2'},
                            {title: 'Table styles'},
                            {title: 'Table row 1', selector: 'tr', classes: 'tablerow1'}
                        ]
                    });
                }
            });
        </script>
    
{% endblock %}